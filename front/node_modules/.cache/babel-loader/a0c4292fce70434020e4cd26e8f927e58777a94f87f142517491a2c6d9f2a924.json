{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moral\\\\Desktop\\\\Capstone Project JAR\\\\JAR\\\\src\\\\pages\\\\profile\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport { useQuery } from \"@tanstack/react-query\";\nimport React from \"react\";\nimport { getUserProfile } from \"../../services/index/users\";\nimport { useSelector } from \"react-redux\";\nimport { stables } from \"../../constants\";\nimport { useNavigate } from \"react-router-dom\";\nimport MainLayout from \"../../components/MainLayout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = props => {\n  _s();\n  const {\n    avatar\n  } = props;\n  const userState = useSelector(state => state.user);\n  const navigate = useNavigate();\n  console.log(\"Avatar:\", avatar);\n\n  // fitching the user data from the database\n  const {\n    // data , isLoading , error is a property where\n    //assign to profileData, profileIsLoading, profileError in short rename the data , isLoading , error\n    data: profileData\n    // isLoading: profileIsLoading,\n    // error: profileError,\n  } = useQuery({\n    //function run when the page is loaded\n    queryFn: () => {\n      return getUserProfile({\n        token: userState.userInfo.token\n      });\n    },\n    queryKey: [\"profile\"]\n  });\n  console.log(profileData);\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: userState.userInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: stables.UPLOAD_FOLDER_BASE_URL + (profileData === null || profileData === void 0 ? void 0 : profileData.avatar),\n        alt: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: profileData === null || profileData === void 0 ? void 0 : profileData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: profileData === null || profileData === void 0 ? void 0 : profileData.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: profileData === null || profileData === void 0 ? void 0 : profileData.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/login\"),\n        className: \"login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/register\"),\n        className: \"signup-hidden\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n};\n_s(Profile, \"aLsex1VRAzCRy5WMv5muyFHlvAs=\", false, function () {\n  return [useSelector, useNavigate, useQuery];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useQuery","React","getUserProfile","useSelector","stables","useNavigate","MainLayout","jsxDEV","_jsxDEV","Profile","props","_s","avatar","userState","state","user","navigate","console","log","data","profileData","queryFn","token","userInfo","queryKey","children","src","UPLOAD_FOLDER_BASE_URL","alt","fileName","_jsxFileName","lineNumber","columnNumber","name","email","role","onClick","className","_c","$RefreshReg$"],"sources":["C:/Users/moral/Desktop/Capstone Project JAR/JAR/src/pages/profile/Profile.jsx"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport React from \"react\";\r\nimport { getUserProfile } from \"../../services/index/users\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { stables } from \"../../constants\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport MainLayout from \"../../components/MainLayout\";\r\n\r\nconst Profile = (props) => {\r\n   const { avatar } = props;\r\n   const userState = useSelector((state) => state.user);\r\n   const navigate = useNavigate();\r\n\r\n   console.log(\"Avatar:\", avatar);\r\n\r\n   // fitching the user data from the database\r\n   const {\r\n      // data , isLoading , error is a property where\r\n      //assign to profileData, profileIsLoading, profileError in short rename the data , isLoading , error\r\n      data: profileData,\r\n      // isLoading: profileIsLoading,\r\n      // error: profileError,\r\n   } = useQuery({\r\n      //function run when the page is loaded\r\n      queryFn: () => {\r\n         return getUserProfile({ token: userState.userInfo.token });\r\n      },\r\n      queryKey: [\"profile\"],\r\n   });\r\n\r\n   console.log(profileData);\r\n\r\n   return (\r\n      <MainLayout>\r\n         {userState.userInfo ? (\r\n            <div>\r\n               <img\r\n                  src={stables.UPLOAD_FOLDER_BASE_URL + profileData?.avatar}\r\n                  alt=\"Profile\"\r\n               />\r\n               <p>{profileData?.name}</p>\r\n               <p>{profileData?.email}</p>\r\n               <p>{profileData?.role}</p>\r\n               {/* <p>{new Date(profileData.createdAt).getDate()}</p> */}\r\n            </div>\r\n         ) : (\r\n            <div>\r\n               <button onClick={() => navigate(\"/login\")} className=\"login\">\r\n                  Login\r\n               </button>\r\n               <button\r\n                  onClick={() => navigate(\"/register\")}\r\n                  className=\"signup-hidden\"\r\n               >\r\n                  Register\r\n               </button>\r\n            </div>\r\n         )}\r\n      </MainLayout>\r\n   );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,4BAA4B;AAC3D,SAASC,WAAW,QAAQ,aAAa;AAEzC,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAOC,UAAU,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,OAAO,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAO,CAAC,GAAGF,KAAK;EACxB,MAAMG,SAAS,GAAGV,WAAW,CAAEW,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EACpD,MAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9BY,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEN,MAAM,CAAC;;EAE9B;EACA,MAAM;IACH;IACA;IACAO,IAAI,EAAEC;IACN;IACA;EACH,CAAC,GAAGpB,QAAQ,CAAC;IACV;IACAqB,OAAO,EAAEA,CAAA,KAAM;MACZ,OAAOnB,cAAc,CAAC;QAAEoB,KAAK,EAAET,SAAS,CAACU,QAAQ,CAACD;MAAM,CAAC,CAAC;IAC7D,CAAC;IACDE,QAAQ,EAAE,CAAC,SAAS;EACvB,CAAC,CAAC;EAEFP,OAAO,CAACC,GAAG,CAACE,WAAW,CAAC;EAExB,oBACGZ,OAAA,CAACF,UAAU;IAAAmB,QAAA,EACPZ,SAAS,CAACU,QAAQ,gBAChBf,OAAA;MAAAiB,QAAA,gBACGjB,OAAA;QACGkB,GAAG,EAAEtB,OAAO,CAACuB,sBAAsB,IAAGP,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAER,MAAM,CAAC;QAC1DgB,GAAG,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eACFxB,OAAA;QAAAiB,QAAA,EAAIL,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEa;MAAI;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1BxB,OAAA;QAAAiB,QAAA,EAAIL,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEc;MAAK;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3BxB,OAAA;QAAAiB,QAAA,EAAIL,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEe;MAAI;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAExB,CAAC,gBAENxB,OAAA;MAAAiB,QAAA,gBACGjB,OAAA;QAAQ4B,OAAO,EAAEA,CAAA,KAAMpB,QAAQ,CAAC,QAAQ,CAAE;QAACqB,SAAS,EAAC,OAAO;QAAAZ,QAAA,EAAC;MAE7D;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTxB,OAAA;QACG4B,OAAO,EAAEA,CAAA,KAAMpB,QAAQ,CAAC,WAAW,CAAE;QACrCqB,SAAS,EAAC,eAAe;QAAAZ,QAAA,EAC3B;MAED;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP;EACP;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEnB,CAAC;AAACrB,EAAA,CApDIF,OAAO;EAAA,QAEQN,WAAW,EACZE,WAAW,EAWxBL,QAAQ;AAAA;AAAAsC,EAAA,GAdT7B,OAAO;AAsDb,eAAeA,OAAO;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moral\\\\Desktop\\\\Capstone Project JAR\\\\JAR\\\\src\\\\components\\\\comments\\\\Comment.jsx\";\nimport React from \"react\";\nimport { images } from \"../../constants\";\nimport { MdEditSquare, MdQuickreply, MdRemoveCircle } from \"react-icons/md\";\nimport CommentForm from \"./CommentForm\";\n\n// This is a component to display a single comment\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Comment = ({\n  comment,\n  loggedinUserId,\n  affectedComment,\n  setAffectedComment,\n  addComment,\n  parentId = null,\n  updateComment,\n  deleteComment,\n  replies\n}) => {\n  // Creating a function to render the button to reply\n  const isUserLoggedin = Boolean(loggedinUserId);\n\n  //   Creating Edit and Delete Function in the comments\n  const commentBelongsToUser = loggedinUserId === comment.user._id;\n  const isReplying = affectedComment && affectedComment.type === \"replying\" && affectedComment._id === comment._id;\n  const isEditing = affectedComment && affectedComment.type === \"editing\" && affectedComment._id === comment._id;\n  const repliedCommentId = parentId ? parentId : comment._id;\n  const replyOnUserId = comment.user._id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: images.theProfile,\n      alt: \"user\",\n      className: \"comment-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-text\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"comment-name\",\n        children: comment.user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"comment-date\",\n        children: new Date(comment.createdAt).toLocaleDateString(\"en\", {\n          day: \"numeric\",\n          month: \"short\",\n          year: \"numeric\",\n          hour: \"2-digit\"\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), !isEditing && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"comment-desc\",\n        children: comment.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 28\n      }, this), isEditing && /*#__PURE__*/_jsxDEV(CommentForm, {\n        btnLabel: \"Update\",\n        formSubmitHandler: value => updateComment(value, comment._id),\n        formCancelHandler: () => setAffectedComment(null),\n        initialText: comment.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-action\",\n        children: [isUserLoggedin && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"comment-reply\",\n          onClick: () => setAffectedComment({\n            type: \"replying\",\n            _id: comment._id\n          }),\n          children: [/*#__PURE__*/_jsxDEV(MdQuickreply, {\n            className: \"comment-action-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Reply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }, this), commentBelongsToUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAffectedComment({\n              type: \"editing\",\n              _id: comment._id\n            }),\n            className: \"comment-edit\",\n            children: [/*#__PURE__*/_jsxDEV(MdEditSquare, {\n              className: \"comment-action-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteComment(comment._id),\n            className: \"comment-delete\",\n            children: [/*#__PURE__*/_jsxDEV(MdRemoveCircle, {\n              className: \"comment-action-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), isReplying && /*#__PURE__*/_jsxDEV(CommentForm, {\n        btnLabel: \"Reply\",\n        formSubmitHandler: value => addComment(value, repliedCommentId, replyOnUserId),\n        formCancelHandler: () => setAffectedComment(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 16\n      }, this), replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"replies\",\n        children: replies.map(reply => /*#__PURE__*/_jsxDEV(Comment, {\n          comment: reply,\n          loggedinUserId: loggedinUserId,\n          affectedComment: affectedComment,\n          setAffectedComment: setAffectedComment,\n          addComment: addComment,\n          updateComment: updateComment,\n          deleteComment: deleteComment,\n          replies: []\n        }, reply._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 22\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n};\n_c = Comment;\nexport default Comment;\nvar _c;\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["React","images","MdEditSquare","MdQuickreply","MdRemoveCircle","CommentForm","jsxDEV","_jsxDEV","Fragment","_Fragment","Comment","comment","loggedinUserId","affectedComment","setAffectedComment","addComment","parentId","updateComment","deleteComment","replies","isUserLoggedin","Boolean","commentBelongsToUser","user","_id","isReplying","type","isEditing","repliedCommentId","replyOnUserId","className","children","src","theProfile","alt","fileName","_jsxFileName","lineNumber","columnNumber","name","Date","createdAt","toLocaleDateString","day","month","year","hour","desc","btnLabel","formSubmitHandler","value","formCancelHandler","initialText","onClick","length","map","reply","_c","$RefreshReg$"],"sources":["C:/Users/moral/Desktop/Capstone Project JAR/JAR/src/components/comments/Comment.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { images } from \"../../constants\";\r\nimport { MdEditSquare, MdQuickreply, MdRemoveCircle } from \"react-icons/md\";\r\n\r\nimport CommentForm from \"./CommentForm\";\r\n\r\n// This is a component to display a single comment\r\nconst Comment = ({\r\n   comment,\r\n   loggedinUserId,\r\n   affectedComment,\r\n   setAffectedComment,\r\n   addComment,\r\n   parentId = null,\r\n   updateComment,\r\n   deleteComment,\r\n   replies,\r\n}) => {\r\n   // Creating a function to render the button to reply\r\n   const isUserLoggedin = Boolean(loggedinUserId);\r\n\r\n   //   Creating Edit and Delete Function in the comments\r\n   const commentBelongsToUser = loggedinUserId === comment.user._id;\r\n   const isReplying =\r\n      affectedComment &&\r\n      affectedComment.type === \"replying\" &&\r\n      affectedComment._id === comment._id;\r\n\r\n   const isEditing =\r\n      affectedComment &&\r\n      affectedComment.type === \"editing\" &&\r\n      affectedComment._id === comment._id;\r\n\r\n   const repliedCommentId = parentId ? parentId : comment._id;\r\n   const replyOnUserId = comment.user._id;\r\n\r\n   return (\r\n      <div className=\"comment-box\">\r\n         <img src={images.theProfile} alt=\"user\" className=\"comment-image\" />\r\n         <div className=\"comment-text\">\r\n            <h5 className=\"comment-name\">{comment.user.name}</h5>\r\n            <span className=\"comment-date\">\r\n               {new Date(comment.createdAt).toLocaleDateString(\"en\", {\r\n                  day: \"numeric\",\r\n                  month: \"short\",\r\n                  year: \"numeric\",\r\n                  hour: \"2-digit\",\r\n               })}\r\n            </span>\r\n\r\n            {/* IF the editing is false render the coments*/}\r\n            {!isEditing && <p className=\"comment-desc\">{comment.desc}</p>}\r\n\r\n            {/* This is for the Editing */}\r\n            {isEditing && (\r\n               <CommentForm\r\n                  btnLabel=\"Update\"\r\n                  formSubmitHandler={(value) =>\r\n                     updateComment(value, comment._id)\r\n                  }\r\n                  formCancelHandler={() => setAffectedComment(null)}\r\n                  initialText={comment.desc}\r\n               />\r\n            )}\r\n\r\n            {/* This is for the button */}\r\n            <div className=\"comment-action\">\r\n               {isUserLoggedin && (\r\n                  <button\r\n                     className=\"comment-reply\"\r\n                     onClick={() =>\r\n                        setAffectedComment({\r\n                           type: \"replying\",\r\n                           _id: comment._id,\r\n                        })\r\n                     }\r\n                  >\r\n                     <MdQuickreply className=\"comment-action-icon\" />\r\n                     <span>Reply</span>\r\n                  </button>\r\n               )}\r\n               {commentBelongsToUser && (\r\n                  <>\r\n                     <button\r\n                        onClick={() =>\r\n                           setAffectedComment({\r\n                              type: \"editing\",\r\n                              _id: comment._id,\r\n                           })\r\n                        }\r\n                        className=\"comment-edit\"\r\n                     >\r\n                        <MdEditSquare className=\"comment-action-icon\" />\r\n                        <span>Edit</span>\r\n                     </button>\r\n                     <button\r\n                        onClick={() => deleteComment(comment._id)}\r\n                        className=\"comment-delete\"\r\n                     >\r\n                        <MdRemoveCircle className=\"comment-action-icon\" />\r\n                        <span>Delete</span>\r\n                     </button>\r\n                  </>\r\n               )}\r\n            </div>\r\n            {isReplying && (\r\n               <CommentForm\r\n                  btnLabel=\"Reply\"\r\n                  formSubmitHandler={(value) =>\r\n                     addComment(value, repliedCommentId, replyOnUserId)\r\n                  }\r\n                  formCancelHandler={() => setAffectedComment(null)}\r\n               />\r\n            )}\r\n\r\n            {/* showing the replies */}\r\n            {replies.length > 0 && (\r\n               <div className=\"replies\">\r\n                  {replies.map((reply) => (\r\n                     <Comment\r\n                        key={reply._id}\r\n                        comment={reply}\r\n                        loggedinUserId={loggedinUserId}\r\n                        affectedComment={affectedComment}\r\n                        setAffectedComment={setAffectedComment}\r\n                        addComment={addComment}\r\n                        updateComment={updateComment}\r\n                        deleteComment={deleteComment}\r\n                        replies={[]}\r\n                     />\r\n                  ))}\r\n               </div>\r\n            )}\r\n         </div>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Comment;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,YAAY,EAAEC,YAAY,EAAEC,cAAc,QAAQ,gBAAgB;AAE3E,OAAOC,WAAW,MAAM,eAAe;;AAEvC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,OAAO,GAAGA,CAAC;EACdC,OAAO;EACPC,cAAc;EACdC,eAAe;EACfC,kBAAkB;EAClBC,UAAU;EACVC,QAAQ,GAAG,IAAI;EACfC,aAAa;EACbC,aAAa;EACbC;AACH,CAAC,KAAK;EACH;EACA,MAAMC,cAAc,GAAGC,OAAO,CAACT,cAAc,CAAC;;EAE9C;EACA,MAAMU,oBAAoB,GAAGV,cAAc,KAAKD,OAAO,CAACY,IAAI,CAACC,GAAG;EAChE,MAAMC,UAAU,GACbZ,eAAe,IACfA,eAAe,CAACa,IAAI,KAAK,UAAU,IACnCb,eAAe,CAACW,GAAG,KAAKb,OAAO,CAACa,GAAG;EAEtC,MAAMG,SAAS,GACZd,eAAe,IACfA,eAAe,CAACa,IAAI,KAAK,SAAS,IAClCb,eAAe,CAACW,GAAG,KAAKb,OAAO,CAACa,GAAG;EAEtC,MAAMI,gBAAgB,GAAGZ,QAAQ,GAAGA,QAAQ,GAAGL,OAAO,CAACa,GAAG;EAC1D,MAAMK,aAAa,GAAGlB,OAAO,CAACY,IAAI,CAACC,GAAG;EAEtC,oBACGjB,OAAA;IAAKuB,SAAS,EAAC,aAAa;IAAAC,QAAA,gBACzBxB,OAAA;MAAKyB,GAAG,EAAE/B,MAAM,CAACgC,UAAW;MAACC,GAAG,EAAC,MAAM;MAACJ,SAAS,EAAC;IAAe;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpE/B,OAAA;MAAKuB,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC1BxB,OAAA;QAAIuB,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAEpB,OAAO,CAACY,IAAI,CAACgB;MAAI;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACrD/B,OAAA;QAAMuB,SAAS,EAAC,cAAc;QAAAC,QAAA,EAC1B,IAAIS,IAAI,CAAC7B,OAAO,CAAC8B,SAAS,CAAC,CAACC,kBAAkB,CAAC,IAAI,EAAE;UACnDC,GAAG,EAAE,SAAS;UACdC,KAAK,EAAE,OAAO;UACdC,IAAI,EAAE,SAAS;UACfC,IAAI,EAAE;QACT,CAAC;MAAC;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAGN,CAACX,SAAS,iBAAIpB,OAAA;QAAGuB,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAEpB,OAAO,CAACoC;MAAI;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAG5DX,SAAS,iBACPpB,OAAA,CAACF,WAAW;QACT2C,QAAQ,EAAC,QAAQ;QACjBC,iBAAiB,EAAGC,KAAK,IACtBjC,aAAa,CAACiC,KAAK,EAAEvC,OAAO,CAACa,GAAG,CAClC;QACD2B,iBAAiB,EAAEA,CAAA,KAAMrC,kBAAkB,CAAC,IAAI,CAAE;QAClDsC,WAAW,EAAEzC,OAAO,CAACoC;MAAK;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5B,CACH,eAGD/B,OAAA;QAAKuB,SAAS,EAAC,gBAAgB;QAAAC,QAAA,GAC3BX,cAAc,iBACZb,OAAA;UACGuB,SAAS,EAAC,eAAe;UACzBuB,OAAO,EAAEA,CAAA,KACNvC,kBAAkB,CAAC;YAChBY,IAAI,EAAE,UAAU;YAChBF,GAAG,EAAEb,OAAO,CAACa;UAChB,CAAC,CACH;UAAAO,QAAA,gBAEDxB,OAAA,CAACJ,YAAY;YAAC2B,SAAS,EAAC;UAAqB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChD/B,OAAA;YAAAwB,QAAA,EAAM;UAAK;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CACV,EACAhB,oBAAoB,iBAClBf,OAAA,CAAAE,SAAA;UAAAsB,QAAA,gBACGxB,OAAA;YACG8C,OAAO,EAAEA,CAAA,KACNvC,kBAAkB,CAAC;cAChBY,IAAI,EAAE,SAAS;cACfF,GAAG,EAAEb,OAAO,CAACa;YAChB,CAAC,CACH;YACDM,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAExBxB,OAAA,CAACL,YAAY;cAAC4B,SAAS,EAAC;YAAqB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAChD/B,OAAA;cAAAwB,QAAA,EAAM;YAAI;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACZ,CAAC,eACT/B,OAAA;YACG8C,OAAO,EAAEA,CAAA,KAAMnC,aAAa,CAACP,OAAO,CAACa,GAAG,CAAE;YAC1CM,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAE1BxB,OAAA,CAACH,cAAc;cAAC0B,SAAS,EAAC;YAAqB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClD/B,OAAA;cAAAwB,QAAA,EAAM;YAAM;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd,CAAC;QAAA,eACV,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACLb,UAAU,iBACRlB,OAAA,CAACF,WAAW;QACT2C,QAAQ,EAAC,OAAO;QAChBC,iBAAiB,EAAGC,KAAK,IACtBnC,UAAU,CAACmC,KAAK,EAAEtB,gBAAgB,EAAEC,aAAa,CACnD;QACDsB,iBAAiB,EAAEA,CAAA,KAAMrC,kBAAkB,CAAC,IAAI;MAAE;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CACH,EAGAnB,OAAO,CAACmC,MAAM,GAAG,CAAC,iBAChB/C,OAAA;QAAKuB,SAAS,EAAC,SAAS;QAAAC,QAAA,EACpBZ,OAAO,CAACoC,GAAG,CAAEC,KAAK,iBAChBjD,OAAA,CAACG,OAAO;UAELC,OAAO,EAAE6C,KAAM;UACf5C,cAAc,EAAEA,cAAe;UAC/BC,eAAe,EAAEA,eAAgB;UACjCC,kBAAkB,EAAEA,kBAAmB;UACvCC,UAAU,EAAEA,UAAW;UACvBE,aAAa,EAAEA,aAAc;UAC7BC,aAAa,EAAEA,aAAc;UAC7BC,OAAO,EAAE;QAAG,GARPqC,KAAK,CAAChC,GAAG;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAShB,CACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEZ,CAAC;AAACmB,EAAA,GAjII/C,OAAO;AAmIb,eAAeA,OAAO;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}